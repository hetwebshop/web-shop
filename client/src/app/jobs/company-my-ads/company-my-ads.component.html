<div class="container">
  <mat-card
    style="border: 1px solid #283316; margin-bottom: 30px; margin-top: 20px; display: flex; text-align: center; justify-content: center;">
    <h1 style="color: #283316; font-weight: 500;">Oglasi kompanije</h1>
  </mat-card>
  <mat-card>
    <mat-tab-group (selectedTabChange)="onTabChange($event)">
      <mat-tab label="Aktivni oglasi">
        <div fxLayout="row" fxLayoutGap="10px" fxLayoutGap.xs="5px" fxLayoutAlign="start stretch" fxLayoutWrap>
          <!-- Job Cards for Active Ads -->
          <div fxFlex fxLayout="column" fxLayoutAlign="start stretch">
            <div *ngFor="let job of activeJobs" class="job-link" style="margin-bottom: 10px;">
              <mat-card class="job-card">
                <mat-card-header style="background-color: #283316; color: white; padding: 10px; border-radius: 4px;"
                fxLayout="row" fxLayoutAlign="space-between" fxLayoutGap="10px" fxLayoutWrap>
                  <div fxFlex="grow">
                    <mat-card-title style="color: #edd79c">{{ job.adName }}</mat-card-title>
                    <p style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Pozicija:</span> {{ job.position }}</p>
                    <p  style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Kategorija:</span> {{
                      getCategoryName(job.jobCategoryId)}}</p>
                    <p  style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Lokacija:</span> {{ getCityName(job.cityId) }}
                    </p>
                  </div>
                  <div fxFlex>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Status Oglasa:</span> {{
                      getStatusEnumValue(job?.jobPostStatusId) }}
                    </p>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Datum početka:</span> {{
                      getFormattedDate(job?.adStartDate) }}
                    </p>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Datum isteka:</span> {{
                      getFormattedDate(job?.adEndDate) }}
                    </p>
                  </div>
                </mat-card-header>
                <mat-card-actions style="margin-left: 1px;">
                  <button mat-button style="background-color: #c5b391; color: #283316;" [routerLink]="['/company-my-ads', job.id]">Uredi
                    oglas</button>
                  <button mat-button style="background-color: #283316; color: #c5b391;" (click)="closeAd($event, job.id)">Završi oglas</button>
                  <button mat-button color="warn" (click)="deleteAd($event, job.id)">Obriši oglas</button>
                </mat-card-actions>
              </mat-card>
            </div>
          </div>
        </div>
        <app-pagination *ngIf="activeAdsPaginationResponse" [listSize]="activeAdsPaginationResponse.pageSize"
          [totalPages]="activeAdsPaginationResponse.totalPages" [page]="activeAdsPaginationResponse.currentPage"
          (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">
        </app-pagination>
      </mat-tab>
      <mat-tab label="Završeni oglasi">
        <div fxLayout="row" fxLayoutGap="10px" fxLayoutGap.xs="5px" fxLayoutAlign="start stretch" fxLayoutWrap>
          <!-- Job Cards for Completed Ads -->
          <div fxFlex fxLayout="column" fxLayoutAlign="start stretch">
            <div *ngFor="let job of closedJobs" class="job-link" style="margin-bottom: 10px;">
              <mat-card class="job-card">
                <mat-card-header style="background-color: #283316; color: white; padding: 10px; border-radius: 4px;"
                fxLayout="row" fxLayoutAlign="space-between" fxLayoutGap="10px" fxLayoutWrap>
                  <div fxFlex="grow">
                    <mat-card-title style="color: #edd79c">{{ job.adName }}</mat-card-title>
                    <p style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Pozicija:</span> {{ job.position }}</p>
                    <p  style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Kategorija:</span> {{
                      getCategoryName(job.jobCategoryId)}}</p>
                    <p  style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Lokacija:</span> {{ getCityName(job.cityId) }}
                    </p>
                  </div>
                  <div fxFlex>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Status Oglasa:</span> {{
                      getStatusEnumValue(job?.jobPostStatusId) }}
                    </p>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Datum početka:</span> {{
                      getFormattedDate(job?.adStartDate) }}
                    </p>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Datum isteka:</span> {{
                      getFormattedDate(job?.adEndDate) }}
                    </p>
                  </div>
                </mat-card-header>
                <mat-card-actions style="margin-left: 1px;">
                  <button mat-button style="background-color: #c5b391; color: #283316;" [routerLink]="['/company-my-ads', job.id]">Uredi
                    oglas</button>
                  <button mat-button style="background-color: #283316; color: #c5b391;" (click)="closeAd($event, job.id)">Završi oglas</button>
                  <button mat-button color="warn" (click)="deleteAd($event, job.id)">Obriši oglas</button>
                </mat-card-actions>
              </mat-card>
            </div>
          </div>
        </div>
        <app-pagination *ngIf="closedAdsPaginationResponse" [listSize]="closedAdsPaginationResponse.pageSize"
          [totalPages]="closedAdsPaginationResponse.totalPages" [page]="closedAdsPaginationResponse.currentPage"
          (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">
        </app-pagination>
      </mat-tab>
      <mat-tab label="Obrisani oglasi">
        <div fxLayout="row" fxLayoutGap="10px" fxLayoutGap.xs="5px" fxLayoutAlign="start stretch" fxLayoutWrap>
          <!-- Job Cards for Completed Ads -->
          <div fxFlex fxLayout="column" fxLayoutAlign="start stretch">
            <div *ngFor="let job of deletedJobs" class="job-link" style="margin-bottom: 10px;">
              <mat-card class="job-card">
                <mat-card-header style="background-color: #283316; color: white; padding: 10px; border-radius: 4px;"
                fxLayout="row" fxLayoutAlign="space-between" fxLayoutGap="10px" fxLayoutWrap>
                  <div fxFlex="grow">
                    <mat-card-title style="color: #edd79c">{{ job.adName }}</mat-card-title>
                    <p style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Pozicija:</span> {{ job.position }}</p>
                    <p  style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Kategorija:</span> {{
                      getCategoryName(job.jobCategoryId)}}</p>
                    <p  style="color: #edd79c;"><span style="font-size: 17px; font-weight: 500;">Lokacija:</span> {{ getCityName(job.cityId) }}
                    </p>
                  </div>
                  <div fxFlex>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Status Oglasa:</span> {{
                      getStatusEnumValue(job?.jobPostStatusId) }}
                    </p>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Datum početka:</span> {{
                      getFormattedDate(job?.adStartDate) }}
                    </p>
                    <p style="min-width: 200px; color: #edd79c; font-size: 14px;">
                      <span style="font-weight: 500;">Datum isteka:</span> {{
                      getFormattedDate(job?.adEndDate) }}
                    </p>
                  </div>
                </mat-card-header>
                <mat-card-actions style="margin-left: 1px;">
                  <button mat-button style="background-color: #c5b391; color: #283316;" [routerLink]="['/company-my-ads', job.id]">Uredi
                    oglas</button>
                  <button mat-button style="background-color: #283316; color: #c5b391;" (click)="closeAd($event, job.id)">Završi oglas</button>
                  <button mat-button color="warn" (click)="deleteAd($event, job.id)">Obriši oglas</button>
                </mat-card-actions>
              </mat-card>
            </div>
          </div>
        </div>
        <app-pagination *ngIf="deletedAdsPaginationResponse" [listSize]="deletedAdsPaginationResponse.pageSize"
          [totalPages]="deletedAdsPaginationResponse.totalPages" [page]="deletedAdsPaginationResponse.currentPage"
          (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)">
        </app-pagination>
      </mat-tab>
    </mat-tab-group>
  </mat-card>
</div>